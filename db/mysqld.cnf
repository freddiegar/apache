#
# The MySQL  Server configuration file.
#
# For explanations see
# http://dev.mysql.com/doc/mysql/en/server-system-variables.html

[client]
default-character-set         = utf8

[mysql]
default-character-set         = utf8

[mysqld]
pid-file                      = /var/run/mysqld/mysqld.pid
socket                        = /var/run/mysqld/mysqld.sock
datadir                       = /var/lib/mysql
#log-error                    = /var/log/mysql/error.log
# By default we only accept connections from localhost
#bind-address                 = 127.0.0.1
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links                = 0

sql-mode                      = "ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"
log_error                     = /var/log/mysql/error.log
general_log                   = 0
general_log_file              = /var/log/mysql/mysql.log
slow_query_log                = 1 # In minutes
slow_query_log_file           = /var/log/mysql/slow.log
long_query_time               = 2 # In minutes
log-queries-not-using-indexes

key_buffer_size               = 200MB # 20% of total RAM

innodb_buffer_pool_size       = 1G   # 50% - 70 of total RAM
innodb_log_file_size          = 256M # 25% of innodb_buffer_pool_size
innodb_flush_method           = O_DIRECT # avoid double buffering
innodb_file_per_table         = ON
innodb_stats_on_metadata      = OFF
innodb_buffer_pool_instances  = 1 # or 8 if innodb_buffer_pool_size < 1GB

query_cache_type              = 0
skip_name_resolve

character-set-server          = utf8
collation-server              = utf8_general_ci

[mysqld_safe]
default-character-set=utf8
